<!-- Development version of Ohm from unpkg.com -->
<script src="https://unpkg.com/ohm-js@17/dist/ohm.js"></script>
<script src="js/graphicmaths-editor.js"></script>

<p>
    <canvas id="canvas"></canvas>
</p>
<p>
    <input id="input"></input>
</p>
<p>
    <button id="update">Update</button>
</p>
<p>
    <textarea id="message"></textarea>
</p>


<script>
    var updateButton = document.getElementById("update");
    function updateCanvas() {
        console.log("Clicked");
        const userInput = document.getElementById("input").value;
        const match = grammar.match(userInput);
        if (match.succeeded()) {
          console.log("Valid expression");
          node = semantics(match);
          value = node.interpret();
          console.log(value);
        } else {
          console.log("Invalid expression");
        }
    }

    updateButton.addEventListener("click", updateCanvas);
</script>
